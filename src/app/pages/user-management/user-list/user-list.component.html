<div class="container overflow-x-scroll w-full  sm:px-16 px-6 mt-5 ">
  <!-- User Lists Table -->
  <div class="mt-3 border-gray-900 border-2 rounded-xl shadow-lg">
    <h2 class="p-4 bg-gray-800 text-white font-medium   rounded-t-lg ">User Lists</h2>

    <!-- Loading Spinner -->
     @if(loading){
      <div  class="flex justify-center items-center mt-3">
        <div class="loader"></div>
      </div>
     }


    <!-- Data Table -->
     @if (!loading)
      {
            <div  class=" contain-content custom-scrollbar overflow-x-auto">
      <div class="inline-block min-w-full flex-grow align-middle rounded-xl">
        <div class="overflow-hidden border border-gray-200 rounded-lg shadow-md">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-4 py-3.5 text-sm font-medium text-left text-gray-500">User ID</th>
                <th class="px-4 py-3.5 text-sm font-medium text-left text-gray-500">User Name</th>
                <th class="px-4 py-3.5 text-sm font-medium text-left text-gray-500">Email</th>
                <th class="px-4 py-3.5 text-sm font-medium text-left text-gray-500">Full Name</th>
                <th class="px-4 py-3.5 text-sm font-medium text-left text-gray-500">Role</th>
                <th class="px-4 py-3.5 text-sm font-medium text-left text-gray-500">Created Date</th>
                <th class="px-4 py-3.5 text-sm font-medium text-left text-gray-500">Edit Student</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <tr *ngFor="let user of userInfo; let i = index; trackBy: trackById">
                <td class="px-4 py-4 text-sm whitespace-nowrap">
                  {{ user.userId }}
                </td>
                <td class="px-4 py-4 text-sm whitespace-nowrap">
 
                  @if (editableRow === i) { <input [(ngModel)]="user.userName" class="border p-2 rounded" /> }
                  @if (editableRow !== i) { <span>{{ user.userName }}</span> }
                </td>
                <td class="px-4 py-4 text-sm whitespace-nowrap">
                  @if (editableRow === i) { <input [(ngModel)]="user.emailId" class="border p-2 rounded" /> }
                  @if (editableRow !== i) { <span>{{ user.emailId }}</span> }

                  
                  
                </td>
                <td class="px-4 py-4 text-sm whitespace-nowrap">
                  @if (editableRow === i) { <input  [(ngModel)]="user.fullName" class="border p-2 rounded" /> }
                  @if (editableRow !== i) { <span >{{ user.fullName }}</span>  }
                  
                </td>
                <td class="px-4 py-4 text-sm whitespace-nowrap">
                  <span>{{ user.role }}</span>
                </td>
                <td class="px-4 py-4 text-sm whitespace-nowrap">
                  {{ user.createdDate | date }}
                </td>
                <td class="px-4 py-4 text-sm whitespace-nowrap box-border">
                  @if(editableRow !== i) 
                  {
                    <button  (click)="editRow(i)"
                    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                    Edit
                  </button>
                  }


                  @if(editableRow === i) 
                  {
                    
                    <button  (click)="updateUser(i)"
                    class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-2  rounded">
                    Update
                  </button>
                  }
                  
                 
                </td>
              </tr>

              @if (userInfo.length === 0)
              {
                <tr >
                  <td colspan="7" class="text-center py-4 text-gray-500">No Data Found</td>
                </tr>
              }

            </tbody>
          </table>
          
        </div>
      </div>
    </div>
      }

  </div>
</div>
